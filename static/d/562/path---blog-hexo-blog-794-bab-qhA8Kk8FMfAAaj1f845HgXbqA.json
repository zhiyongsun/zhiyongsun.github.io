{"data":{"markdownRemark":{"html":"<h1 id=\"使用hexo的背景\"><a href=\"#%E4%BD%BF%E7%94%A8hexo%E7%9A%84%E8%83%8C%E6%99%AF\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用hexo的背景</h1>\n<p>过去一直使用的ghost系统来管理博客，使用MySQL来管理数据。使用起来非常麻烦，不能直接编辑静态markdown文件，不利于形成文档。于是就放弃了ghost，使用静态markdown文件来管理。参考了几家选择了hexo</p>\n<h1 id=\"购买服务器，域名解析，服务器node环境的搭建，下载nginx\"><a href=\"#%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8node%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA%EF%BC%8C%E4%B8%8B%E8%BD%BDnginx\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>购买服务器，域名解析，服务器node环境的搭建，下载Nginx</h1>\n<p>请参考我的博文<a href=\"/ghost-134e4d879a5607239034b0da4c6e72dc.md\">搭建Ghost博客系统</a></p>\n<h1 id=\"本地下载hexo-cli\"><a href=\"#%E6%9C%AC%E5%9C%B0%E4%B8%8B%E8%BD%BDhexo-cli\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>本地下载hexo-cli</h1>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">$ npm install <span class=\"token operator\">-</span>g hexo<span class=\"token operator\">-</span>cli</code></pre>\n      </div>\n<h1 id=\"建站：执行以下命令，建立自己的博客站\"><a href=\"#%E5%BB%BA%E7%AB%99%EF%BC%9A%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%BB%BA%E7%AB%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E7%AB%99\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>建站：执行以下命令，建立自己的博客站</h1>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">$ hexo init <span class=\"token operator\">&lt;</span>folder<span class=\"token operator\">></span>\n$ cd <span class=\"token operator\">&lt;</span>folder<span class=\"token operator\">></span>\n$ npm install</code></pre>\n      </div>\n<h1 id=\"使用next主题（查找了大量主题，比较符合我的需求），并且配置站\"><a href=\"#%E4%BD%BF%E7%94%A8next%E4%B8%BB%E9%A2%98%EF%BC%88%E6%9F%A5%E6%89%BE%E4%BA%86%E5%A4%A7%E9%87%8F%E4%B8%BB%E9%A2%98%EF%BC%8C%E6%AF%94%E8%BE%83%E7%AC%A6%E5%90%88%E6%88%91%E7%9A%84%E9%9C%80%E6%B1%82%EF%BC%89%EF%BC%8C%E5%B9%B6%E4%B8%94%E9%85%8D%E7%BD%AE%E7%AB%99\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用next主题（查找了大量主题，比较符合我的需求），并且配置站</h1>\n<p>主题配置，请参考这里都看一遍，根据自己的需求配置上去<a href=\"http://theme-next.iissnan.com/theme-settings.html\">hexo配置</a></p>\n<h1 id=\"将新建的博客站，放到github上，并且push上去\"><a href=\"#%E5%B0%86%E6%96%B0%E5%BB%BA%E7%9A%84%E5%8D%9A%E5%AE%A2%E7%AB%99%EF%BC%8C%E6%94%BE%E5%88%B0github%E4%B8%8A%EF%BC%8C%E5%B9%B6%E4%B8%94push%E4%B8%8A%E5%8E%BB\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>将新建的博客站，放到github上，并且push上去</h1>\n<p>将新建的博客站放到github上，使用github作为版本管理工具。</p>\n<h1 id=\"连接服务器，全局安装hexo-cliclone-github代码\"><a href=\"#%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85hexo-cliclone-github%E4%BB%A3%E7%A0%81\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>连接服务器，全局安装hexo-cli,clone github代码</h1>\n<p>使用shh连接服务器</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">$ ssh root@yourIP</code></pre>\n      </div>\n<p>安装hexo-cli</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">$ npm install <span class=\"token operator\">-</span>g hexo<span class=\"token operator\">-</span>cli</code></pre>\n      </div>\n<p>clone github 代码</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">$ git clone yourAddress</code></pre>\n      </div>\n<h1 id=\"配置nginx\"><a href=\"#%E9%85%8D%E7%BD%AEnginx\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>配置Nginx</h1>\n<p>设置一个代理服务器让我们的博客可以使用域名访问。 在/etc/nginx/conf.d目录下创建一个配置文件ghost.conf：\n<code>\nvi /etc/nginx/conf.d/ghost.conf\n</code>\n写入以下内容：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">server {  \n    listen 80;\n    server_name example.com http://www.example.com; #将 example.com 改为你的域名或ip。\n\n    location / {\n        proxy_set_header   X-Real-IP $remote_addr;\n        proxy_set_header   Host      $http_host;\n        proxy_pass         http://127.0.0.1:4000;\n    }\n}</code></pre>\n      </div>\n<p>这里同时设置了example.com <a href=\"http://www.example.com%EF%BC%8C%E4%BF%9D%E8%AF%81%E8%AE%BF%E9%97%AE%E6%88%90%E5%8A%9F\">http://www.example.com，保证访问成功</a></p>\n<h1 id=\"使用-pm2-管理进程\"><a href=\"#%E4%BD%BF%E7%94%A8-pm2-%E7%AE%A1%E7%90%86%E8%BF%9B%E7%A8%8B\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用 pm2 管理进程</h1>\n<p>安装 pm2</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">$ npm install pm2 <span class=\"token operator\">-</span>g</code></pre>\n      </div>\n<p>进入博客根目录，新建app.js写入</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> exec <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'child_process'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>exec<span class=\"token punctuation\">;</span>\n<span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hexo server\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n      </div>\n<p>执行，启动服务</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">$ pm2 start app<span class=\"token punctuation\">.</span>js</code></pre>\n      </div>\n<p>访问网址即可。</p>\n<h1 id=\"官方参考\"><a href=\"#%E5%AE%98%E6%96%B9%E5%8F%82%E8%80%83\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>官方参考</h1>\n<p><a href=\"https://hexo.io/zh-cn/index.html\">hexo</a><br>\n<a href=\"http://theme-next.iissnan.com/theme-settings.html\">Next主题</a>\n<a href=\"https://github.com/Unitech/pm2\">pm2</a></p>","timeToRead":4,"excerpt":"使用hexo的背景 过去一直使用的ghost系统来管理博客，使用MySQL来管理数据。使用起来非常麻烦，不能直接编辑静态markdown文件，不利于形成文档。于是就放弃了ghost，使用静态markdown文件来管理。参考了几家选择了hexo 购买服务器，域名解析，服务器node…","frontmatter":{"title":"阿里云服务器搭建hexo博客","cover":null,"date":"2017-08-20T23:00:00.000Z","category":null,"tags":["blog"]},"fields":{"nextTitle":"浏览器内存回收机制","nextSlug":"/javascript/browser/emory-recall/","prevTitle":"在阿里云 ECS Centos6.5上搭建Ghost博客系统,以及nodejs版本控制工具安装","prevSlug":"/blog/ghost/","slug":"/blog/hexo-blog/","date":"2017-08-19T16:00:00.000Z"}}},"pageContext":{"slug":"/blog/hexo-blog/"}}