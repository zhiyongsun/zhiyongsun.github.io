{"data":{"markdownRemark":{"html":"<h2 id=\"历史\"><a href=\"#%E5%8E%86%E5%8F%B2\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>历史</h2>\n<ul>\n<li>1994年，网景公司（Netscape）发布了Navigator浏览器0.9版。</li>\n<li>历史上第一个比较成熟的网络浏览器，轰动一时。但是，这个版本的浏览器只能用来浏览，不具备与访问者互动的能力.</li>\n<li>网景公司急需一种网页脚本语言，使得浏览器可以与网页互动。</li>\n<li><a href=\"http://brendaneich.com/\">Brendan Eich</a>负责开发这种新语言</li>\n<li>他觉得，没必要设计得很复杂，这种语言只要能够完成一些简单操作就够了，比如判断用户有没有填写表单。</li>\n<li>他考虑到，C++和Java语言都使用new命令，生成实例。   </li>\n</ul>\n<p>C++的写法：</p>\n<div class=\"gatsby-highlight\" data-language=\"c++\">\n      <pre class=\"language-c++\"><code class=\"language-c++\">ClassName *object = new ClassName(param);</code></pre>\n      </div>\n<p>Java的写法：</p>\n<div class=\"gatsby-highlight\" data-language=\"java\">\n      <pre class=\"language-java\"><code class=\"language-java\">Foo foo = new Foo();</code></pre>\n      </div>\n<ul>\n<li>他想到C++和Java使用new命令时，都会调用\"类\"的构造函数（constructor）。</li>\n<li>他就做了一个简化的设计，在Javascript语言中，new命令后面跟的不是类，而是构造函数。</li>\n</ul>\n<p>比如：现在有一个叫做DOG的构造函数，表示狗对象的原型。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">function</span> <span class=\"token constant\">DOG</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>使用 new 生成一个狗对象的实例</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">var</span> dogA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DOG</span><span class=\"token punctuation\">(</span><span class=\"token string\">'大毛'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>dogA<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 大毛</span></code></pre>\n      </div>\n<h2 id=\"new运算符的缺点\"><a href=\"#new%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E7%BC%BA%E7%82%B9\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>new运算符的缺点</h2>\n<p>用构造函数生成实例对象，有一个缺点，那就是无法共享属性和方法。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">　　<span class=\"token keyword\">function</span> <span class=\"token constant\">DOG</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n　　　　<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n　　　　<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>species <span class=\"token operator\">=</span> <span class=\"token string\">'犬科'</span><span class=\"token punctuation\">;</span>\n　　<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>生成两个实例对象：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">var</span> dogA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DOG</span><span class=\"token punctuation\">(</span><span class=\"token string\">'大毛'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> dogB <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DOG</span><span class=\"token punctuation\">(</span><span class=\"token string\">'二毛'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n      </div>\n<p>这两个对象的species属性是独立的，修改其中一个，不会影响到另一个。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">　  dogA<span class=\"token punctuation\">.</span>species <span class=\"token operator\">=</span> <span class=\"token string\">'猫科'</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">　　alert</span><span class=\"token punctuation\">(</span>dogB<span class=\"token punctuation\">.</span>species<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 显示\"犬科\"，不受dogA的影响</span></code></pre>\n      </div>\n<h2 id=\"prototype属性的引入\"><a href=\"#prototype%E5%B1%9E%E6%80%A7%E7%9A%84%E5%BC%95%E5%85%A5\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>prototype属性的引入</h2>\n<p>考虑到这一点，Brendan Eich决定为构造函数设置一个prototype属性。</p>\n<p>这个属性包含一个对象（以下简称\"prototype对象\"），所有实例对象需要<strong>共享的属性和方法</strong>，都放在这个对象里面；那些不需要共享的属性和方法，就放在构造函数里面。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">　　<span class=\"token keyword\">function</span> <span class=\"token constant\">DOG</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n　　　　<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n　　<span class=\"token punctuation\">}</span>\n　　<span class=\"token constant\">DOG</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> species <span class=\"token punctuation\">:</span> <span class=\"token string\">'犬科'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n　　<span class=\"token keyword\">var</span> dogA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DOG</span><span class=\"token punctuation\">(</span><span class=\"token string\">'大毛'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n　　<span class=\"token keyword\">var</span> dogB <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DOG</span><span class=\"token punctuation\">(</span><span class=\"token string\">'二毛'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">　　alert</span><span class=\"token punctuation\">(</span>dogA<span class=\"token punctuation\">.</span>species<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 犬科</span>\n<span class=\"token function\">　　alert</span><span class=\"token punctuation\">(</span>dogB<span class=\"token punctuation\">.</span>species<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 犬科</span></code></pre>\n      </div>\n<p>species属性放在prototype对象里，是两个实例对象共享的。只要修改了prototype对象，就会同时影响到两个实例对象。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">   <span class=\"token constant\">DOG</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>species <span class=\"token operator\">=</span> <span class=\"token string\">'猫科'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">　　alert</span><span class=\"token punctuation\">(</span>dogA<span class=\"token punctuation\">.</span>species<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 猫科</span>\n<span class=\"token function\">　　alert</span><span class=\"token punctuation\">(</span>dogB<span class=\"token punctuation\">.</span>species<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 猫科</span></code></pre>\n      </div>\n<p>这就是Javascript继承机制的设计思想。</p>\n<h2 id=\"原型链\"><a href=\"#%E5%8E%9F%E5%9E%8B%E9%93%BE\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>原型链</h2>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/prototype-ac9d889f261505a6d53920430d3b0d57-f8101.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 690px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 41.75283111767602%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAACCUlEQVQoz21QTWgTURB+xRqzSUwpiNCDtbRUL+LFHgrmIOolPfhTBC29iEW8eAlBvChYbURSFMT8sMFs6iGVTSVBY82qJGDRpqbNbt6+n12kIVhUtKderFSQdd+LCSgODDPf+2a+mXkAALANNK0jlUrtCgQCHjsXgsGgNyEmunoH93Tb2MkKLMsC/hE/iMViIB6PtyNzZjyuLKin4CJ6qZVrp9kjIcRPDJzTkT7OhtSW4DVYRjKEcF9L9H/WEgUU0Wm7yEIQx7ggIlMMY4gfcQzp6q9Ny1K16gmG0+m0NxqNuu3tuNu5JxKJuBgnSRLf6AwlxiLGeKw5wDhJKuYC1sj53qGe7QY1QgY1XyCMDjA+I2fchXxBmEnNOEVRdCrziiA/ltm3gMPDvr/X/vccMS7uHPIdElpYSkreiUsXHOzfL16ecNwN39vRtdcj9B/sc7f7Vz/UQZ02OgrzCm+ay8x1P0wk+5V81hu6Pdn54H5kIByaHjw3Oua6eeeGQ61oPa9yxWNFpbRfmk26n8nPfdnZnE8Sr3dyAftU7hvh5nZENZ7QZXPrzduls0fHj7to1cyTirGl1/QjvB6Sye/rPywCya3S8uvdVDV/Us3cKLyv9bVPQwiBzad/BHVa+vZp3Xq3gka5gIarXxpfLbWmjnAe0ysf62sWJfSqsUbcVKef7Z5GtlgeYPxvRxwZJtM7L6cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"prototype\"\n        title=\"\"\n        src=\"/static/prototype-ac9d889f261505a6d53920430d3b0d57-44d6a.png\"\n        srcset=\"/static/prototype-ac9d889f261505a6d53920430d3b0d57-f4799.png 173w,\n/static/prototype-ac9d889f261505a6d53920430d3b0d57-b3b1d.png 345w,\n/static/prototype-ac9d889f261505a6d53920430d3b0d57-44d6a.png 690w,\n/static/prototype-ac9d889f261505a6d53920430d3b0d57-bc0f7.png 1035w,\n/static/prototype-ac9d889f261505a6d53920430d3b0d57-b50e5.png 1380w,\n/static/prototype-ac9d889f261505a6d53920430d3b0d57-f8101.png 2031w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>\n<p><strong>proto</strong> 指向当前构造函数的原型</p>\n</li>\n<li>\n<p>JavaScript中任意对象都有一个内置属性[[prototype]]，在ES5之前没有标准的方法访问这个内置属性，但是大多数浏览器都支持通过<strong>proto</strong>来访问。ES5中有了对于这个内置属性标准的Get方法Object.getPrototypeOf().</p>\n</li>\n<li>\n<p>Object.prototype 这个对象是个例外，它的<strong>proto</strong>值为null </p>\n</li>\n</ul>\n<ul>\n<li>\n<p>在JS里，万物皆对象。方法（Function）是对象，方法的原型(Function.prototype)是对象。因此，它们都会具有对象共有的特点。</p>\n</li>\n<li>\n<p>即：对象具有属性<strong>proto</strong>，可称为隐式原型，一个对象的隐式原型指向构造该对象的构造函数的原型，这也保证了实例能够访问在构造函数原型中定义的属性和方法。</p>\n</li>\n<li>\n<p>方法(Function)方法这个特殊的对象，除了和其他对象一样有上述<em>proto</em>属性之外，还有自己特有的属性——原型属性（prototype），这个属性是一个指针，指向一个对象，这个对象的用途就是包含所有实例共享的属性和方法（我们把这个对象叫做原型对象）。原型对象也有一个属性，叫做constructor，这个属性包含了一个指针，指回原构造函数。</p>\n</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/extends-and-prototype-chains-1e9d8bb9e32c64bd0aa98743eda69bea-81132.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 520px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 112.6923076923077%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAXABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe7LDaCQNg//xAAXEAEBAQEAAAAAAAAAAAAAAAAAASBB/9oACAEBAAEFAq4qZ//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABkQAAMBAQEAAAAAAAAAAAAAAAABETEhUf/aAAgBAQABPyGuiWJwWeCFQQ80Vmiw/9oADAMBAAIAAwAAABC4yID/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAgEBPxCEP//EABsQAQEBAQEAAwAAAAAAAAAAAAERACFRMXGR/9oACAEBAAE/EKAenm6YvjGEn01RfzUYJcWde7lFVxUfL2YIBa+7/9k='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"extends and prototype chains\"\n        title=\"\"\n        src=\"/static/extends-and-prototype-chains-1e9d8bb9e32c64bd0aa98743eda69bea-81132.png\"\n        srcset=\"/static/extends-and-prototype-chains-1e9d8bb9e32c64bd0aa98743eda69bea-32397.png 173w,\n/static/extends-and-prototype-chains-1e9d8bb9e32c64bd0aa98743eda69bea-6f62d.png 345w,\n/static/extends-and-prototype-chains-1e9d8bb9e32c64bd0aa98743eda69bea-81132.png 520w\"\n        sizes=\"(max-width: 520px) 100vw, 520px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>\n<p>1.构造函数Foo()</p>\n<ul>\n<li>构造函数的原型属性Foo.prototype指向了原型对象，在原型对象里有共有的方法，所有构造函数声明的实例（这里是f1，f2）都可以共享这个方法。</li>\n</ul>\n</li>\n<li>\n<p>2.原型对象Foo.prototype</p>\n</li>\n<li>\n<p>Foo.prototype保存着实例共享的方法，有一个指针constructor指回构造函数。</p>\n</li>\n<li>\n<p>constructor属性的作用：个人理解是为了让所有的实例，能够访问构造函数</p>\n</li>\n<li>\n<p>3.实例\nf1和f2是Foo这个对象的两个实例，这两个对象也有属性<strong>proto</strong>，指向构造函数的原型对象，这样子就可以像上面1所说的访问原型对象的所有方法啦。</p>\n</li>\n<li>\n<p>构造函数Foo()除了是方法，也是对象啊，它也有<strong>proto</strong>属性，指向谁呢？函数的构造函数就是Function，因此这里的<strong>proto</strong>指向了Function.prototype。其实除了Foo()，Function(), Object()也是一样的道理。</p>\n</li>\n<li>\n<p>原型对象也是对象啊，它的<strong>proto</strong>属性，又指向谁呢？\n同理，指向它的构造函数的原型对象呗。这里是Object.prototype.</p>\n</li>\n</ul>\n<p>-总结：</p>\n<ul>\n<li>1.对象有属性<strong>proto</strong>,指向该对象的构造函数的原型对象。</li>\n<li>2.方法除了有属性<strong>proto</strong>,还有属性prototype，prototype指向该方法的原型对象。</li>\n<li><strong>proto</strong>是每个对象都有的一个属性，而prototype是函数才会有的属性。</li>\n</ul>\n<h2 id=\"类继承\"><a href=\"#%E7%B1%BB%E7%BB%A7%E6%89%BF\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>类继承</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Point</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ColorPoint</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Point</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> color<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 调用父类的constructor(x, y)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> color<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 调用父类的toString()</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<ul>\n<li>\n<p>子类必须在constructor方法中调用super方法，否则新建实例时会报错。这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。</p>\n</li>\n<li>\n<p>类的原型方法不可枚举</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">    \n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Point</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n      <span class=\"token punctuation\">}</span>\n    \n      <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    \n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>Point<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// []</span>\n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">getOwnPropertyNames</span><span class=\"token punctuation\">(</span>Point<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// [\"constructor\",\"toString\"]</span></code></pre>\n      </div>\n<ul>\n<li>\n<p>子类的<strong>proto</strong>属性，表示构造函数的继承，总是指向父类。</p>\n</li>\n<li>\n<p>子类prototype属性的<strong>proto</strong>属性，表示方法的继承，总是指向父类的prototype属性。</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">B</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token constant\">B</span><span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">===</span> <span class=\"token constant\">A</span> <span class=\"token comment\">// true</span>\n<span class=\"token constant\">B</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">===</span> <span class=\"token constant\">A</span><span class=\"token punctuation\">.</span>prototype <span class=\"token comment\">// true</span></code></pre>\n      </div>\n<p>这样的结果是因为，类的继承是按照下面的模式实现的。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">B</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// B 的实例继承 A 的实例</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span><span class=\"token constant\">B</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> <span class=\"token constant\">A</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// B 的实例继承 A 的静态属性</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span><span class=\"token constant\">B</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">A</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">B</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n      </div>\n<p>Object.setPrototypeOf方法的实现。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">Object<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">setPrototypeOf</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> proto<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  obj<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">=</span> proto<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> obj<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<h2 id=\"类重写-与-newtarget-与-高阶组件\"><a href=\"#%E7%B1%BB%E9%87%8D%E5%86%99-%E4%B8%8E-newtarget-%E4%B8%8E-%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>类重写 与 new.target 与 高阶组件</h2>\n<ul>\n<li>\n<p>类重写\n查看 banner实例 </p>\n</li>\n<li>\n<p>new是从构造函数生成实例的命令。ES6 为new命令引入了一个new.target属性，该属性一般用在构造函数之中，返回new命令作用于的那个构造函数。如果构造函数不是通过new命令调用的，new.target会返回undefined，因此这个属性可以用来确定构造函数是怎么调用的。</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">.</span>target <span class=\"token operator\">===</span> Shape<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'本类不能实例化'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Rectangle</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>length<span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 报错</span>\n<span class=\"token keyword\">var</span> y <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Rectangle</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 正确</span></code></pre>\n      </div>\n<ul>\n<li>类重写，相当于是从类的内部增强；高阶组件，相当于从类的外部进行武装。</li>\n</ul>","timeToRead":4,"excerpt":"历史 1994年，网景公司（Netscape）发布了Navigator浏览器0.9版。 历史上第一个比较成熟的网络浏览器，轰动一时。但是，这个版本的浏览器只能用来浏览，不具备与访问者互动的能力. 网景公司急需一种网页脚本语言，使得浏览器可以与网页互动。 Brendan Eich…","frontmatter":{"title":"继承与原型链 ","cover":null,"date":"2017-09-22T22:00:00.000Z","category":"JavaScript","tags":["继承与原型链"]},"fields":{"nextTitle":"tcp-ip","nextSlug":"/node/tcp-ip/","prevTitle":"The zsh git Plugin","prevSlug":"/tools/zsh/zsh-git-plugin/","slug":"/javascript/extends-and-prototype-chains/extends-and-prototype-chains/","date":"2017-09-21T16:00:00.000Z"}}},"pageContext":{"slug":"/javascript/extends-and-prototype-chains/extends-and-prototype-chains/"}}